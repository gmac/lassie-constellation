{% load static compress action_manager %}
{% if valid_type %}

	{% compress css %}
	<link rel="stylesheet" href="{% static 'css/interaction.scss' %}" type="text/x-scss">
	{% endcompress %}

	<div id="actions-manager">
		<h1>Related Actions</h1>
		<input id="resource-uri" type="hidden" value="/api/v1/{{ content_type }}/{{ content_id }}/">
		<input id="resource-types" type="hidden" value="{{ types_json }}">
		<input id="resource-items" type="hidden" value="{{ items_json }}">
		
		<ul class="actions-list"></ul>
		<ul>
			<li class="action-type">
				<label for="action-type">Interaction</label>
				<select id="action-type"></select>
			</li>
			<li class="action-item">
				<label for="action-item">Trigger Item</label>
				<select id="action-item">
					{% for item in items %}
					<option value="{{ item.id }}">{{ item.slug }}</option>
					{% endfor %}
				</select>
			</li>
			<li class="action-slug">
				<label for="action-slug">Trigger Item</label>
				<input id="action-slug" type="text">
			</li>
		</ul>
	
		<label for="action-grammar">Grammar</label>
		<input id="action-grammar" type="text">
		<p>Formatted as "#action#, #object#, #item#"</p>
	
		<div class="script">
			<h2>Script</h2>
			<textarea></textarea>
		</div>
	
		<div id="dialogue-manager">
			<div class="add-header">
				<button class="add-dialogue">Add</button>
				<h2>Dialogue</h2>
			</div>
			<ul class="dialogue-list"></ul>
		
			<label for="dialogue-subtitle">Subtitle</label>
			<textarea id="dialogue-subtitle"></textarea>
		
			<label for="dialogue-puppet">Puppet</label>
			<input id="dialogue-puppet" type="text">
		
			<label for="dialogue-tone">Intonation</label>
			<input id="dialogue-tone" type="text">
		
			<label for="dialogue-sound">Sound</label>
			<input id="dialogue-sound" type="text">
		
			<label for="dialogue-voice">Voice</label>
			<select id="dialogue-voice">
				<option value="">--None Selected--</option>
				{% for voice in voices %}
				<option value="{{ voice.id }}">{{ voice.title }}</option>
				{% endfor %}
			</select>
		
			<div class="model-delete"></div>
		</div>
	
		<div class="model-delete"></div>
	</div>

	<script src="{% static 'js/libs/require.js' %}"></script>
	<script src="{% static 'js/config.js' %}"></script>
	<script>require(['interaction/main']);</script>

{% endif %}